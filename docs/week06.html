<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="hg2052.ico">
    <title>6. Processing Raw Text - LAC</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet"
	  href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
	  integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
	  crossorigin="anonymous">
  </head>
  <body class="container">
    <div class="column">   

<h1>6. Processing Raw Text</h1>

<h3>Lecture notes</h3>
<ul>
  <li>NLTK Chapter 3:
    <a href="https://www.nltk.org/book/ch03.html">
      Processing Raw Text</a>
    <ul>
      <li>3.1:
	<a href="https://www.nltk.org/book/ch03.html#accessing-text-from-the-web-and-from-disk">
	  Accessing Text from the Web and from Disk</a>
	<br>Don't forget to think about the right to use the data!
      </li>
      <li> <img src='colab.svg' width='36px'/> For google colab, files are stored  in your virtual machine.
	<ul>
      <li>⚠ They will disappear at the end of the session.
	<li> You can upload or download them to your own machine
	<br><code> from google.colab import files
    <br>files.download('/content/spec.txt')</code>
      <li> <a href = 'https://colab.research.google.com/notebooks/io.ipynb#scrollTo=hauvGV4hV-Mh'>Downloading files to your local file system</a>
	</ul>
      <li>3.2:
	<a href="https://www.nltk.org/book/ch03.html#strings-text-processing-at-the-lowest-level">
	  Strings: Text Processing at the Lowest Level</a>
      </li>
      <li>3.3:
	<a href="https://www.nltk.org/book/ch03.html#text-processing-with-unicode">
	  Text Processing with Unicode</a>
      </li>
            <li>3.9: 
	<a href="https://www.nltk.org/book/ch03.html#formatting-from-lists-to-strings">
	  Formatting: From Lists to Strings</a>
      </li>

      <li>
      <a href='https://www.nltk.org/_modules/nltk/metrics/distance.html'>NLTK
      Distance Metrics</a>
<pre>
binary_distance(s1, s2)  # 1 if the same/0 otherwise
jaccard_distance(s1,s2)  # | s1  ∩  s2| / |s1 ∪  s2| 
masi_distance(s1,s2)     # Measuring Agreement on Set-Valued Items
edit_distance(str1, str2)    # additions, substitutions and  deletions
                             # Levenshtien distance  
</pre>
    </ul>
  </li>
</ul>
<h3>Further reading</h3>
<ul>
  <li>
    <a href="http://en.wikipedia.org/wiki/Binary_numeral_system">
      Binary</a>,
    <a href="http://en.wikipedia.org/wiki/Octal">
      Octal</a> and
    <a href="http://en.wikipedia.org/wiki/Hexadecimal">
      Hexadecimal</a> (Wikipedia)
  </li>
  <li>
    <a href="http://en.wikipedia.org/wiki/ASCII">
      ASCII</a> and
    <a href="http://en.wikipedia.org/wiki/Unicode">
      Unicode</a> (Wikipedia)
  </li>
</ul>



<h3>Before Class  (<a href='code/wk6a.html'>code</a>,
  <a href='code/wk6a-out.txt'>output</a>)</h3>

<ol>
 <li>Write a program to: 
   <ol>
     <li> Get the text of the Speckled Band (Sherlock Holmes)
       <br>go to gutenberg and search for 'Speckled Band'
       <br>find the url of the textfile
       <br>read it in
       <br>chop off extra text
     <li>Save it as a file called "spec.txt"
     <li>If you are in colab, download it.
     <li>Read it in again and count characters, lines, tokens
       <br> ★ Also count the number of sentences
   </ol>
 </ol>


<h3>Practical work (<a href='code/wk6b.html'>code</a>,
  <a href='code/wk6b-out.txt'>output</a>)</h3>
<ul>
  <li> Take the following Chinese verbs ['学习', '开'] and write code to produce
  the following variants: 
    <br>['学习学习', '开开']  # reduplication
    <br> ['学习不学习',　'学不学习',　'开不开'] # yes-no questions

  <li>
    In honour of Michael Palin, define a function
    <code>isPalin(string)</code> that decides whether
    <code>string</code> is
    a <a href="https://en.wikipedia.org/wiki/Palindrome">palindrome</a>. This
    should be a
    <a href="http://www.greenteapress.com/thinkpython/thinkCSpy/html/chap05.html#4">
      Boolean function</a>, 
    it returns True if <code>string</code> is a palindrome
    or False if it is not.
  </li>
  <li>
    Write code to test the function with strings like "spam maps",
    "Palin Drome". The tests should output the results, like this:
    <pre xml:space="preserve">
      "spam maps" is a palindrome.
      "Palin Drome" is not a palindrome.</pre>
  </li>
          <li>
	Note that the test result messages are output by the test
	code, not by the function. The function only returns True or
	False.
          </li>
          <li>
	Define a non-Boolean function <code>normalize(string)</code>
	that takes a string argument and returns a new string with all
	punctuation and whitespace removed and all uppercase letters
	changed to lowercase letters.
          </li>
          <li>
	Test this function with	strings like "Spam! Maps!", "Palin?
	Drome?". The tests should output messages, like this:
        <pre xml:space="preserve">
"Spam! Maps!" normalized to "spammaps".
"Palin? Drome?" normalized to "palindrome".</pre>
          </li>
          <li>
	Define a Boolean function <code>isPalinNormal(string)</code>
	that decides whether <code>string</code> is a palindrome,
	disregarding upper/lowercase, punctuation and whitespace.  Use
	both <code>normalize()</code> and <code>isPalin()</code>
	inside <code>isPalinNormal()</code>.
          </li>
          <li>
	Test this function with strings like "Spam! Maps!", "Palin?
	Drome?". The tests should output messages, like this:
        <pre xml:space="preserve">
"Spam! Maps!" is a palindrome when normalized.
"Palin? Drome?" is not a palindrome when normalized.</pre>
          </li>
        </ul>
      </li>
</ul>

<h3>Miscellaneous Notes</h3>

<h4>A note on installing modules</h4>

<p>In the same environment you will be using, do one of:
  <pre>
    pip install module
    python -m pip install module
  </pre>
  Depending on which python you use and how many are installed on your
  computer, you may have to be more specific, more like:
  <pre>
    pip3 install module
    python3.8 -m pip install module
  </pre>
  <img src='colab.svg' width='36px'/> In colab you can use the Ipython pip magic
  command <code>%pip</code>, which installs in the current python.
  <pre>
    %pip3 install module
  </pre> 
  

  <h4>How to remove accents from text:
    
    <p><code> from unidecode import unidecode
         <br> unidecode('kožušček, 北亰') </code>
	 <br> <tt> kozuscek Bei Jing <tt>
    </p>
    <p><a href='https://pypi.org/project/Unidecode/'>The Unidecode
module</a> gives ASCII transliterations of Unicode text.
<hr>
<p><a href="index.html">LAC: Language and the Computer</a> Francis Bond.

  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</body>
</html>
